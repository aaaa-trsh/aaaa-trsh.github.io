<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Article</title>
    <link rel="icon" href="./images/icon.PNG">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@200;300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/stackoverflow-dark.css">
    <script src="./js/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>
<body>
    <div id="app">
        <div id="header">
            <img id="header__project-image" v-bind:src="project.image" style="position:absolute; float:right; max-width:100%; height:100%; min-width:30%; top:0; left:0; object-fit:cover;" />
            <div id="header__title-container" style="position: relative; z-index: 10;">
                <h1 id="header__title" style="z-index:10; line-height:1.3em; padding-top: 3em;"><mark>{{key}}</mark></h1>
                <p class="header__title" style="margin:0 0 0 2em; width:80vw;text-align: left;margin:auto"><mark><i>by Keith Bartlett</i> <a href="https://github.com/aaaa-trsh/Eye-DCGAN"></a></mark></p>
            </div>

        </div>
        <div id="article">
            <div class="article__tool" style="white-space: pre-wrap;" v-if="'tool' in project" v-html="project.tool" /></div>
            <div v-for="(text, title) in project.article">
                <h1 class="article__title underline" style="padding-top: 1em; margin: 0px;" v-bind:text-content="title" v-if="parseInt(title) != 0">{{title}}</h1>
                <p class="article__text" style="white-space: pre-wrap;" v-html="text" />
            </div>
        </div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const id = parseInt(params.get("id"));

        // Load projects from JSON
        var projects = (function () {
            var json = null;
            $.ajax({
                'async': false,
                'global': false,
                'url': "./projects.json",
                'dataType': "json",
                'success': function (data) {
                    json = data;
                }
            });
            return json;
        })();

        // Grab our specific project to use
        var key = Object.keys(projects)[id]
        var loaded = projects[key];

        document.title = loaded.title;
        var app = new Vue({
            el: '#app',
            data: {
                project: loaded,
                key: key
            }
        })
    </script>
</body>
</html>