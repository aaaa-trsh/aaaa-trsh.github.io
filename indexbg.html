<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>keith b's funhouse</title>
    <link rel="stylesheet" href="./style.css?e=2">
    <script src="./js/perlin.js"></script>
    <script src="./js/tf.js"></script>
    <script src="./js/plugins/three.min.js"></script>
    <script src="./js/plugins/three-orbit.js"></script>
    <script src="https://rawgit.com/josdirksen/learning-threejs/master/libs/perlin.js"></script>
    <script src="./js/utils/colorUtils.js"></script>

    <script src="https://d3js.org/d3.v4.min.js"></script> 
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script> 
    <script src="https://d3js.org/d3-scale-chromatic.v3.min.js"></script> 

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@200;300;400;500;700&display=swap" rel="stylesheet">
</head>
    <body id="body">
        <video autoplay muted loop id="bgVideo" style="display: none;"><source src="" type="video/mp4"></video>
        <canvas id="canvas"></canvas>
        <div id="midbit" style="display: none;">
            <ul id="navbar">
                <li onclick="clickMidButton(this)" id="projects"><h2>projects</h2></li> 
                <li onclick="clickMidButton(this)" id="about"><h2>about</h2></li> 
                <li onclick="clickMidButton(this)" id="contact"><h2>contact</h2></li>
            </ul>

            <h1 id="hero-title">keith<br/>bartlett</h1>
            <h4><span id="bg-name">name</span> </span><span id="bg-info">info</span></h4>
        </div>

        <script>
            var midButtonElements = null;
            window.onload = () => {
                var script = document.createElement('script');
                document.body.append(script);
                var bgScripts = ["orbit"]; //"cellular-automata2", "planet", "flow", "faces-baked", 
                script.src = "./js/backgrounds/bg-"+bgScripts[Math.floor(Math.random()*bgScripts.length)]+".js";
                var heroTitle = document.getElementById("hero-title");
                function clamp(v, min, max) {return Math.max(min, Math.min(max, v)); }
                noise.seed(Math.random());
                document.addEventListener('mousemove', e => {
                    var x = (-e.clientX + window.innerWidth/2)/40;
                    var y = (-e.clientY + window.innerHeight/2)/40;
                    heroTitle.style.textShadow = `${x/2}px ${y/2}px #FDE725, ${x}px ${y}px #EE4266, 0 0 40px #fff`;
                });
                midButtonElements = ["projects", "about", "contact"].map(x => document.getElementById(x));
            }
            function clickMidButton(clickedElement) {
                if (midButtonElements != null) {
                    for (var element of midButtonElements) {
                        if (element == clickedElement) {
                            element.classList.add("section-title");
                            document.getElementById("midbit").appendChild(element); 
                        }
                        else { element.style.opacity = "0"; }
                    }
                }
            }
        </script>
        <!--
            bg ideas:
            ✓ face noiser
            ✓ cellular automata
            * marching cubes war
              pixel war
            * boids
            * pointcloud vis
              2d fluid sim
              lidar/raytracing + mapgen
              wfc platformer env (build platformer, waits, fades into space bg, makes another)
              crawler
        -->
    </body>
</html>